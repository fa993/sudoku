!function(){"use strict";function r(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}function o(r){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},o(r)}function e(r){var e=function(r,e){if("object"!==o(r)||null===r)return r;var t=r[Symbol.toPrimitive];if(void 0!==t){var n=t.call(r,e||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(r)}(r,"string");return"symbol"===o(e)?e:String(e)}function t(r,o){for(var t=0;t<o.length;t++){var n=o[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,e(n.key),n)}}function n(r,o,e){return o&&t(r.prototype,o),e&&t(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}var i=9,s=4;var u=function(){function o(){r(this,o),this.right=null,this.left=null,this.up=null,this.down=null,this.header=null,this.i=-1,this.j=-1,this.row=-1,this.col=-1,this.num=0,this.is_covered=!1}return n(o,[{key:"append_right_header",value:function(){this.right=new o,this.right.left=this,this.right.header=this.right}},{key:"jump_to_lowest",value:function(){for(var r=this,o=this.down;null!==o&&o!==this;r=o,o=o.down);return r}},{key:"populate_from_sparse_row_index",value:function(r){this.col=Math.floor(r/i)%i,this.row=Math.floor(r/(i*i)),this.num=r%i}}]),o}(),l=function(){function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){for(var r=Array.from({length:i*i*i},(function(r,o){return Array.from({length:i*i*s},(function(r,o){return!1}))})),o=0;o<i*i;o++)for(var e=0;e<i;e++)r[o*i+e][Math.floor(o/i)*i+e]=!0;for(var t=0;t<i*i*i;t++){var n=Math.floor(t/i)%i,u=t%i;r[t][i*i+n*i+u]=!0}for(var l=0;l<i*i;l++)for(var a=0;a<i;a++)r[l*i+a][2*i*i+l]=!0;for(var h=0;h<i*i*i;h++){var f=Math.floor(h/i)%i,c=Math.floor(h/(i*i)),v=h%i,d=-1;switch(10*Math.floor(c/3)+Math.floor(f/3)){case 0:d=0;break;case 1:d=1;break;case 2:d=2;break;case 10:d=3;break;case 11:d=4;break;case 12:d=5;break;case 20:d=6;break;case 21:d=7;break;case 22:d=8;break;default:throw new Error("row column out of bounds or something screwed up in group resolution")}r[h][3*i*i+v+i*d]=!0}return r}();r(this,o),this.entryNode=null,this.selected_rows=[],this.row_po=[],this.solutions=[],this.sol_limit=1,this.errors=[],this.entryNode=new u;for(var t=this.entryNode,n=0;n<i;n++)for(var l=0;l<i;l++)t.append_right_header(),t=t.right;for(var a=0;a<i;a++)for(var h=0;h<i;h++)t.append_right_header(),t=t.right;for(var f=0;f<i;f++)for(var c=0;c<i;c++)t.append_right_header(),t=t.right;for(var v=0;v<i;v++)for(var d=0;d<i;d++)t.append_right_header(),t=t.right;t.right=this.entryNode,this.entryNode.left=t;for(var g=0;g<i*i*i;g++){for(var _=this.entryNode.right,p=null,m=null,w=0;w<i*i*s;w++,_=_.right)if(e[g][w]){var y=new u,b=_.jump_to_lowest();b.down=y,y.up=b,y.down=_,_.up=y,y.header=_,null==m&&(m=y,this.row_po.push(m)),null!=p&&(p.right=y,y.left=p),p=y,y.populate_from_sparse_row_index(g),y.i=g,y.j=w,_.num++}null!=m&&(m.left=p,p.right=m)}}return n(o,[{key:"initialise",value:function(r){for(var o=0;o<i;o++)for(var e=0;e<i;e++){var t=r[o][e];if(-1!==t){this.selected_rows.push(o*i*i+e*i+t-1);var n=this.row_po[o*i*i+e*i+t-1];if(!0===n.header.is_covered)this.errors.push({row:o,col:e});else{this.cover_entire_column(n.header),n.header.is_covered=!0;for(var s=n.right;n!==s;s=s.right)this.cover_entire_column(s.header),s.header.is_covered=!0}}}}},{key:"cover_entire_column",value:function(r){this.cover_control_column(r);for(var o=r.down;o!==r;o=o.down)for(var e=o.right;e!==o;e=e.right)this.cover_row(e)}},{key:"uncover_entire_column",value:function(r){for(var o=r.up;o!==r;o=o.up)for(var e=o.left;o!==e;e=e.left)this.uncover_row(e);this.uncover_control_col(r)}},{key:"algorithm_x",value:function(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.entryNode.right!==this.entryNode){var e=this.entryNode.right,t=e.num,n=e;for(e=e.right;e!==this.entryNode;e=e.right)e.num<t&&(n=e);if(r&&o<7){for(var i=Math.floor(100*Math.random()),s=0;s<i;s++,n=n.right);n===this.entryNode&&(n=n.right)}if(0!==n.num){this.cover_entire_column(n);for(var u=n.down;u!==n;u=u.down){this.selected_rows.push(u.i);for(var l=u.right;u!==l;l=l.right)this.cover_entire_column(l.header);if(this.algorithm_x(r,o+1),this.solutions.length>=this.sol_limit)return;this.selected_rows.pop();for(var a=u.left;a!==u;a=a.left)this.uncover_entire_column(a.header)}this.uncover_entire_column(n)}}else this.solutions.push(JSON.parse(JSON.stringify(this.selected_rows)))}},{key:"get_sudoku_grid",value:function(r){if(void 0!==r&&null!==r){for(var o=Array.from({length:i},(function(r,o){return Array.from({length:i},(function(r,o){return 0}))})),e=new u,t=0;t<r.length;t++)e.populate_from_sparse_row_index(r[t]),o[e.row][e.col]=e.num+1;return o}}},{key:"print_matches",value:function(){var r=this;console.log("Successful Matches"),this.solutions.forEach((function(o){for(var e=r.get_sudoku_grid(o),t=0;t<i;t++){for(var n=0;n<i;n++)process.stdout.write(e[t][n].toString());console.log()}}))}},{key:"cover_control_column",value:function(r){r.left.right=r.right,r.right.left=r.left}},{key:"uncover_control_col",value:function(r){r.left.right=r,r.right.left=r}},{key:"cover_row",value:function(r){r.up.down=r.down,r.down.up=r.up,r.header.num--}},{key:"uncover_row",value:function(r){r.up.down=r,r.down.up=r,r.header.num++}}]),o}();onmessage=function(r){console.log("Recieved message");var o=JSON.parse(r.data.jsondat);console.log(o);var e,t=void 0,n=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];try{void 0!==(e=function(r){var o=new l;return o.initialise(r),0===o.errors.length?(o.algorithm_x(),{sol:o.get_sudoku_grid(o.solutions[0])}):{errors:o.errors}}(o.newg)).sol?t=e.sol:void 0!==e.errors?0===e.errors.length?n.forEach((function(r){for(var o=0;o<r.length;o++)r[o]=1})):e.errors.forEach((function(r){var o=r.row,e=r.col;n[o][e]=1})):(console.log("Too few clues to solve"),n=n.map((function(r){return r.map((function(r){return 1}))})))}catch(i){console.log("Too few clues to solve"),n=n.map((function(r){return r.map((function(r){return 1}))}))}finally{postMessage({jsondat:JSON.stringify({id:o.id,solution:t,errors:n})})}}}();
//# sourceMappingURL=25.6ccc4f1d.chunk.js.map